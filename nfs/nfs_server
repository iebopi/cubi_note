1. sudo apt-get install nfs-kernel-server

2. sudo apt-get install nfs-common​

3. 设置共享的文件目录,修改配置文件/etc/exports,在最后一行添加：/home/USER/nfs *(rw,sync,no_root_squash,no_subtree_check)
------------
前面那个目录是与nfs服务客户端共享的目录，*代表允许所有的网段访问（也可以使用具体的IP）
rw：挂接此目录的客户端对该共享目录具有读写权限
sync：资料同步写入内存和硬盘
no_root_squash：客户机用root访问该共享文件夹时，不映射root用户。（root_squash：客户机用root用户访问该共享文件夹时，将root用户映射成匿名用户）
no_subtree_check：不检查父目录的权限。
2.2-nfs是一个RPC程序，使用它前，需要映射好端口，通过rpcbind 设定：

4. nfs是一个RPC程序，使用它前，需要映射好端口，通过rpcbind 设定：

sudo service rpcbind restart restart

5. 重启nfs服务：

sudo service restartnfs-kernel-server restart

6. 测试
运行以下命令来显示一下共享出来的目录：
showmount -e​

7.挂载指令
到任意一台服务器中执行挂载指令，则可以将指定ip服务器上的共享路径，挂载到本地。

sudo mount -t nfs ***.***.***.***:/home/USER/nfs /nfs-client/
***.***.***.***是NFS服务器的IP地址

如果想开机自动挂载：
把上述指令 sudo mount -t nfs ***.***.***.***:/home/USER/nfs /nfs-clinet/ 写到 /etc/rc.local 文件中。

8. 其它
客户端报错：
mount：文件系统类型错误、选项错误、***.***.***.***:/home/USER/nfs 有坏超级块，
      缺少代码页或助手程序，或其他错误
      (对某些文件系统(如 nfs、cifs) 您可能需要一款 /sbin/mount.<类型> 助手程序)
      有些情况下在 syslog 中可以找到一些有用信息- 请尝试

      dmesg | tail  这样的命令看看。
解决：

sudo apt-get install nfs-common
